Concept ?

# define DAY_CLUE   "At dawn's first golden ray, the hidden key may stay"
# define NIGHT_CLUE "Where the last light fades, your path awaits"
# define MAZE_CLUE  "In the heart of the maze, where walls conceal, the truth will reveal"

Day clue: Appears in the first room when the player starts.
	- Gives a poetic hint for where the key is.
	- Key only spawns in the easternmost room and only during day.

Night clue: Appears immediately after the player collects the key.
	- Gives a poetic hint for where the invisible door is.
	- Door only spawns in the westernmost room and only at night.

Maze clue: Appears after opening the door.
	- Hints at the ?heart? of the maze: room to - > win/leave the maze
	- Door should blend with wall (invisible): by having the same texture as the wall. Clue references hidden walls.

// helper functions to set DAY/NIGHT transition ?

bool is_night(double global_light)
{
    return (global_light <= NIGHT_START);
}
------------------------

//struct of key/doors (?)

typedef struct s_item
{
    double  x;        // world x coordinate
    double  y;        // world y coordinate
    bool     found;  // has the player picked it up?
    char    *clue;      // clue text (use the DEFINE in the function)
}           t_item;

// How to detect interaction ?

double dx = player.x - items.x; 
double dy = player.y - items.y;
double distance = sqrt(dx * dx + dy * dy); -> hipotenusa = distancia entre 2 objectos

if (distance < 0.5 && !items.found)
{
    items.found = true;
    show_clue(items.clue); // function to render the clue text (already have for the FPS i think - render fps)
}

or add button to display clue text

// !!!! ADD CROSSHAIR TO BE EASIER TO INTERACT



PSEUDO CODE
// Global state
bool has_key = false; (perhaps best aproach is struct item)
bool door_opened = false;

// Game loop (after rendering each frame)
void update_clues(t_data *data)
{
    if (!has_key)
    {
        // Player sees day clue only during day (?)
        if (data->global_light > 0.5) // adjust threshold as needed
            display_text(DAY_CLUE, BOTTOM_RIGHT);
    }
    else if (has_key && !door_opened)
    {
        // Player sees night clue only at night
        if (data->global_light < 0.5)
            display_text(NIGHT_CLUE, BOTTOM_RIGHT);
    }
    else if (door_opened)
    {
        // Player sees maze clue after opening door
        display_text(MAZE_CLUE, BOTTOM_RIGHT);
    }
}

// Key spawn logic
void spawn_key(t_data *data)
{
    if (data->global_light > 0.5 && player_in_east_room())
        show_key();
}

// Door spawn logic
void spawn_door(t_data *data)
{
    if (data->global_light < 0.5 && player_in_target_room())
        show_invisible_door(); // door uses wall texture
}

// Interaction logic
void player_pickup_key()
{
    has_key = true;
    play_sound(KEY_PICKUP);
}

void player_open_door()
{
    if (door_is_visible() && player_near_door())
    {
        door_opened = true;
        play_sound(DOOR_OPEN);
    }
}


/* How to implement? - Ideas

Day clue ? key spawn */
if (is_day(global_light) && player_in_target_room())
    spawn_key();

/* Key collected ? night clue */

if (key.collected)
    show_clue(NIGHT_CLUE);

/* Night ? door appears */

if (is_night(global_light) && player_in_target_room() && !door_opened && has_key)
    spawn_door();

/* Door oppened - > maze clue */

if (door_opened)
    show_clue(MAZE_CLUE);

/* to end game */

if (player in target room && has_key && door_opened)
{
    change_door_texture_to_door()
    if (player_interacts_with_door())
    {
        end_game();
    }
}